# Seml: Survival Endless Markup Langauge

Seml 是为 Plants vs. Zombies Survival Endless 定制的标记语言, 可用于描述波长, 用炮, 用垫等信息, 并内置了砸率测试等功能.

## 快速开始: 砸率测试

1. 下载本插件.
2. 新建 `.seml` 后缀文件, 输入以下内容:
```python
# 测试 PE.垫材24 旧PDc解的砸率
scene:PE
protect:17 27 57 67  # 要保护的炮位
repeat:1             # 重复次数, 可以省略 (默认为 300)
thread:16            # 并行进程数, 可以省略 (默认为 CPU 核心数) 

w1 601
PP 225 25 9
C 539~619 1265 9

w2 601
PP 225 25 9 
DD +107 15 8.1875
C 539~619 1256 9

w3 601
PP 225 25 9
DD +107 15 8.1875
C 539~619 1256 9
```

3. 使用 `Ctrl + Shift + P` 呼出命令菜单, 键入 `测试砸率` 即可.


## 语法一览

### 波长

可提供多个用冰时机.

```python
w1 1 300   # wave1 于 1 生效冰, 波长为300
```

### 用炮

使用一门或两门炮. 可用 B/D 代替 P 传递更精确的语义. 大小写均可.

```python
P 318 2 9     # 318cs 生效炸 (2,9) 的炮
PP 318 25 9   # 318cs 生效炸 (2,9), (5,9) 的炮
D +220 1 7    # 延迟 220cs 生效
```


### 用垫

使用垫材. 大小写均可.

```python
C 446 1256 9     # 446cs 于 1-9, 2-9, 5-9, 6-9 放垫
C 446+134 ...    # 134cs 后铲
C 446~601 ...    # 601cs 铲
C +220+134 ...   # 延迟 220cs 种植, 种植后 134cs 铲
```

在行数后加 `'` 表示用小喷 / 阳光菇.


```python
C 446 1'2'56 9   # 于 1-9, 2-9 垫小喷/阳光菇, 于 5-9, 6-9 放普通垫材
```

智能用垫. 如果省略 `wave`, 则考虑所有红眼.

```python
C 446 1256 9 choose:3 waves:12 # 1,2,5,6 路中选择 3 个红眼 x 最小的行垫
                               # 只考虑 w1,w2 的红眼
```

## 设定测试环境

除上述表达操作的语句外, seml 也支持设定测试环境.

### 砸率测试

```python
scene:PE             # 场地, 六场地大小写皆可
protect:17 27 57 67  # 要保护的位置, 默认为炮, 加'表示普通植物
repeat:1             # 重复次数, 可以省略 (默认为 300)
thread:16            # 并行进程数, 可以省略 (默认为 CPU 核心数) 
```

## 主要版本

### 1.1 - 2023/10/10

- 增加砸率测试功能

### 1.0 - 2023/10/03

- 正式发布